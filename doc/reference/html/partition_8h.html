<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BlueLab: partition.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BlueLab
   &#160;<span id="projectnumber">BlueLab-7.3.1-Release</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6e8ad9d85a9810be3e56ddc3a6bf3acd.html">BlueTooth</a></li><li class="navelem"><a class="el" href="dir_032c7ce75df489fbc81f9f5cafa90617.html">ADK_CSR867x.WIN4.3.1.5</a></li><li class="navelem"><a class="el" href="dir_1bf656d35252395d27302f6b51ddd826.html">tools</a></li><li class="navelem"><a class="el" href="dir_9efb167bd97b9d385990cb22ce1a9f30.html">include</a></li><li class="navelem"><a class="el" href="dir_9b9e274d222b0ae0600ea71b70413f55.html">firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">partition.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a153745c39faf6f85f952c1acbc7baee8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#a153745c39faf6f85f952c1acbc7baee8">PartitionMountFilesystem</a> (<a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition, <a class="el" href="partition__if_8h.html#aae470e197372f8f967e018597583d33e">partition_filesystem_priority</a> priority)</td></tr>
<tr class="memdesc:a153745c39faf6f85f952c1acbc7baee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount a partition to the union file system.  <a href="#a153745c39faf6f85f952c1acbc7baee8">More...</a><br/></td></tr>
<tr class="separator:a153745c39faf6f85f952c1acbc7baee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790242efea62826fdc7e2a58b55da550"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#a790242efea62826fdc7e2a58b55da550">PartitionGetInfo</a> (<a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition, <a class="el" href="partition__if_8h.html#a4238b4482701f4520937260100a21515">partition_info_key</a> key, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> *value)</td></tr>
<tr class="memdesc:a790242efea62826fdc7e2a58b55da550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about a partition.  <a href="#a790242efea62826fdc7e2a58b55da550">More...</a><br/></td></tr>
<tr class="separator:a790242efea62826fdc7e2a58b55da550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28d22a4efbf1de66c824389af0bbbb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#ae28d22a4efbf1de66c824389af0bbbb8">PartitionSetMessageDigest</a> (<a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> sink, <a class="el" href="partition__if_8h.html#ac2ff640e05c9325ab794de413a517136">partition_message_digest_type</a> md_type, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *data, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> len)</td></tr>
<tr class="memdesc:ae28d22a4efbf1de66c824389af0bbbb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a message digest for a stream writing to flash partition. Message digest data will be copied and stored by the firmware.  <a href="#ae28d22a4efbf1de66c824389af0bbbb8">More...</a><br/></td></tr>
<tr class="separator:ae28d22a4efbf1de66c824389af0bbbb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a7007ecaff46f868d5280a09f509e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#a95a7007ecaff46f868d5280a09f509e6">PartitionGetRawSerialSource</a> (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition)</td></tr>
<tr class="memdesc:a95a7007ecaff46f868d5280a09f509e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API will return the source with the contents of the specified raw serial partition.  <a href="#a95a7007ecaff46f868d5280a09f509e6">More...</a><br/></td></tr>
<tr class="separator:a95a7007ecaff46f868d5280a09f509e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343057d847e5426b30733bfec20eb0e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#a343057d847e5426b30733bfec20eb0e0">PartitionSinkGetPosition</a> (<a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> sink)</td></tr>
<tr class="memdesc:a343057d847e5426b30733bfec20eb0e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the sink position of the partition sink stream.  <a href="#a343057d847e5426b30733bfec20eb0e0">More...</a><br/></td></tr>
<tr class="separator:a343057d847e5426b30733bfec20eb0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02075d9c7d362c3432fca8cbcac5c3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#ad02075d9c7d362c3432fca8cbcac5c3f">PartitionUnmountFilesystem</a> (<a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition)</td></tr>
<tr class="memdesc:ad02075d9c7d362c3432fca8cbcac5c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmount a partition from the union file system.  <a href="#ad02075d9c7d362c3432fca8cbcac5c3f">More...</a><br/></td></tr>
<tr class="separator:ad02075d9c7d362c3432fca8cbcac5c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebba42161eb9aed19c28b77d6ec1be4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#aebba42161eb9aed19c28b77d6ec1be4b">PartitionGetRawSource</a> (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition)</td></tr>
<tr class="memdesc:aebba42161eb9aed19c28b77d6ec1be4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates raw source stream out of any closed or partially written partition.  <a href="#aebba42161eb9aed19c28b77d6ec1be4b">More...</a><br/></td></tr>
<tr class="separator:aebba42161eb9aed19c28b77d6ec1be4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75d29bc136e51ea82a30ff86e9bc7c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#ab75d29bc136e51ea82a30ff86e9bc7c5">PartitionMap</a> (<a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> offset_word, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> size_word)</td></tr>
<tr class="memdesc:ab75d29bc136e51ea82a30ff86e9bc7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map the external serial flash RA partition in the VM memory space.  <a href="#ab75d29bc136e51ea82a30ff86e9bc7c5">More...</a><br/></td></tr>
<tr class="separator:ab75d29bc136e51ea82a30ff86e9bc7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1aa1ae3fa6b3ab8bd1b96fb647ddc35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="partition__if_8h.html#a18d23a6548c5341b5591d270c7787b86">sector_erase_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#aa1aa1ae3fa6b3ab8bd1b96fb647ddc35">PartitionEraseSectorRandomAccess</a> (<a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> offset_word)</td></tr>
<tr class="memdesc:aa1aa1ae3fa6b3ab8bd1b96fb647ddc35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase a sector of external serial flash RA partition.  <a href="#aa1aa1ae3fa6b3ab8bd1b96fb647ddc35">More...</a><br/></td></tr>
<tr class="separator:aa1aa1ae3fa6b3ab8bd1b96fb647ddc35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b81fbdf0fa459193c3c7974fc9d8e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#a10b81fbdf0fa459193c3c7974fc9d8e7">PartitionGetRandomAccessSource</a> (<a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a> device, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> partition, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> offset_byte, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> size_byte)</td></tr>
<tr class="memdesc:a10b81fbdf0fa459193c3c7974fc9d8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a Source stream to read the data from the RA partition.  <a href="#a10b81fbdf0fa459193c3c7974fc9d8e7">More...</a><br/></td></tr>
<tr class="separator:a10b81fbdf0fa459193c3c7974fc9d8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec718a30b80993a14d98e26f418eb859"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="partition_8h.html#aec718a30b80993a14d98e26f418eb859">PartitionUnmap</a> (void *addr)</td></tr>
<tr class="memdesc:aec718a30b80993a14d98e26f418eb859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmap the external serial flash RA partition mapping.  <a href="#aec718a30b80993a14d98e26f418eb859">More...</a><br/></td></tr>
<tr class="separator:aec718a30b80993a14d98e26f418eb859"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a153745c39faf6f85f952c1acbc7baee8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PartitionMountFilesystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#aae470e197372f8f967e018597583d33e">partition_filesystem_priority</a>&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mount a partition to the union file system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>device to which to mount, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>number of partition to mount </td></tr>
    <tr><td class="paramname">priority</td><td>mount at higher or lower priority to already mounted file systems, see <a class="el" href="partition__if_8h.html#aae470e197372f8f967e018597583d33e" title="where to mount in union file system ">partition_filesystem_priority</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if partition found and mounted successfully, otherwise FALSE </dd></dl>

</div>
</div>
<a class="anchor" id="a790242efea62826fdc7e2a58b55da550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PartitionGetInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a4238b4482701f4520937260100a21515">partition_info_key</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about a partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>device to query, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>number of partition to query </td></tr>
    <tr><td class="paramname">key</td><td>specifies information requested, see <a class="el" href="partition__if_8h.html#a4238b4482701f4520937260100a21515" title="Keys used with PartitionGetInfo() ">partition_info_key</a> </td></tr>
    <tr><td class="paramname">value</td><td>returned value as specified by #key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if partition found and queried successfully, otherwise FALSE </dd></dl>

</div>
</div>
<a class="anchor" id="ae28d22a4efbf1de66c824389af0bbbb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PartitionSetMessageDigest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td>
          <td class="paramname"><em>sink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#ac2ff640e05c9325ab794de413a517136">partition_message_digest_type</a>&#160;</td>
          <td class="paramname"><em>md_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a message digest for a stream writing to flash partition. Message digest data will be copied and stored by the firmware. </p>
<p>When a flash partition is written to, the first word is not immediately written. Instead it is saved in RAM until the stream is closed. At this point the flash partition is read back and verified against the stored message digest. If the verification is successful, the first word is written to flash.</p>
<p>This protects against partly or incorrectly written partitions. If this trap is not called before closing the partition sink then the verification will not be performed, also the first word will not be written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>sink that is writing to the partition </td></tr>
    <tr><td class="paramname">md_type</td><td>the type of message digest, see <a class="el" href="partition__if_8h.html#ac2ff640e05c9325ab794de413a517136" title="Keys used with PartitionSetMessageDigest() ">partition_message_digest_type</a> </td></tr>
    <tr><td class="paramname">data</td><td>pointer to message digest </td></tr>
    <tr><td class="paramname">value</td><td>length of message digest</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if sink is valid, data is correct length and message digest set successfully, otherwise FALSE</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Message digest configuration using <a class="el" href="partition_8h.html#ae28d22a4efbf1de66c824389af0bbbb8" title="Set a message digest for a stream writing to flash partition. Message digest data will be copied and ...">PartitionSetMessageDigest()</a> can only be done once in the life time of the partition sink. </dd></dl>

</div>
</div>
<a class="anchor" id="a95a7007ecaff46f868d5280a09f509e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a> PartitionGetRawSerialSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API will return the source with the contents of the specified raw serial partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>device to query, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>number of partition to read raw data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The source associated with the raw partition stream. </dd></dl>

</div>
</div>
<a class="anchor" id="a343057d847e5426b30733bfec20eb0e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PartitionSinkGetPosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td>
          <td class="paramname"><em>sink</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the sink position of the partition sink stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>sink stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sink position of the specified sink partition.</dd></dl>
<p>This VM trap is used to get the sink position of the specified sink partition in octets. Firmware returns a sink position from which, each word has a value of 0xFFFF till the end of the partition. Firmware assumes that the partition contents before the sink position (except first word and last odd octet, if any) are successfully written. </p>

</div>
</div>
<a class="anchor" id="ad02075d9c7d362c3432fca8cbcac5c3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PartitionUnmountFilesystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmount a partition from the union file system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>device from which to unmount, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>filesystem partition number to unmount</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if partition found and unmounted successfully, otherwise FALSE </dd></dl>

</div>
</div>
<a class="anchor" id="aebba42161eb9aed19c28b77d6ec1be4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a> PartitionGetRawSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates raw source stream out of any closed or partially written partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>device to query, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>partition number to read raw data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Source associated with the partition stream.</dd></dl>
<p>This trap creates source out of any closed partition, but any partially written partition would require a sink prior to creating a source from the same partition. Once the source stream is created out of a partially written partition, the associated sink stream will be made idle for the span of source stream lifetime. In other words, this sink will not be accessible to VM or transforms.</p>
<dl class="section note"><dt>Note</dt><dd>Raw source cannot be created out of a PS partition.</dd>
<dd>
Raw source stream out of a partially written partition can only be created if there is no space claimed with associated sink stream.</dd>
<dd>
Raw source stream can also be created out of mounted Read only file system partition. </dd></dl>

</div>
</div>
<a class="anchor" id="ab75d29bc136e51ea82a30ff86e9bc7c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>* PartitionMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>offset_word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>size_word</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map the external serial flash RA partition in the VM memory space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Device whose partition is being mapped, cannot be internal flash, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>Partition number, only RA partition is supported by this trap </td></tr>
    <tr><td class="paramname">offset_word</td><td>It is the offset (in words) within the partition from where the mapping begins </td></tr>
    <tr><td class="paramname">size_word</td><td>Number of words to map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to start of mapped flash area if successful, otherwise NULL.</dd></dl>
<p>Pointer returned by the trap can be used to access (read and write) the mapped flash area. Application can maintain multiple such mappings anywhere in the RA partitions.</p>
<p>There is a limitation on the use of pointer returned by this trap. The application may read and write to the mapped flash directly, but pointers into it cannot be passed to most of the traps (except memset, memmove); if an attempt is made to do so, the application will panic. Although pointer to mapped flash area can be passed to memmove() but there are some restrictions on its usage. Refer description of memmove() for details.</p>
<dl class="section note"><dt>Note</dt><dd>Mapping from an RA partition will not be allowed if source stream exists on the same RA partition and vice versa.</dd>
<dd>
Maximum size of mapping supported is 1 KW. </dd></dl>

</div>
</div>
<a class="anchor" id="aa1aa1ae3fa6b3ab8bd1b96fb647ddc35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="partition__if_8h.html#a18d23a6548c5341b5591d270c7787b86">sector_erase_status</a> PartitionEraseSectorRandomAccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>offset_word</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase a sector of external serial flash RA partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Device whose sector is being erased, cannot be internal flash, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>Partition number, only RA partition is supported by this trap </td></tr>
    <tr><td class="paramname">offset_word</td><td>This is an offset (in words) within the partition and the sector in which this offset falls would be erased </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code as defined in <a class="el" href="partition__if_8h.html#a18d23a6548c5341b5591d270c7787b86" title="error codes indicating the reason of failure of sector erase or indicating that erase operation is su...">sector_erase_status</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If a source stream already exists from the given RA partition then the erase request would be considered invalid. </dd></dl>

</div>
</div>
<a class="anchor" id="a10b81fbdf0fa459193c3c7974fc9d8e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a> PartitionGetRandomAccessSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5">partition_filesystem_devices</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>offset_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>size_byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a Source stream to read the data from the RA partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Device whose partition is being accessed, cannot be internal flash, see <a class="el" href="partition__if_8h.html#a48d83437ce34ba5010776f0d86cb65e5" title="devices that can contain a file system ">partition_filesystem_devices</a> </td></tr>
    <tr><td class="paramname">partition</td><td>Partition number, only RA partition is supported by this trap </td></tr>
    <tr><td class="paramname">offset_byte</td><td>It is the offset (in bytes) within the partition </td></tr>
    <tr><td class="paramname">size_byte</td><td>The amount of data (in bytes) to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Source associated with the partition stream if successful, otherwise 0.</dd></dl>
<p>Unlike other partition source streams, this stream does not expect any sink on the partition or presence of valid data.</p>
<dl class="section note"><dt>Note</dt><dd>If any mapping already exists to the same RA partition then source stream will not be created and vice versa. </dd></dl>

</div>
</div>
<a class="anchor" id="aec718a30b80993a14d98e26f418eb859"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PartitionUnmap </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmap the external serial flash RA partition mapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>Address of RA partition to unmap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 8 2018 17:58:24 for BlueLab by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BlueLab: ringtone_if.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BlueLab
   &#160;<span id="projectnumber">BlueLab-7.3.1-Release</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6e8ad9d85a9810be3e56ddc3a6bf3acd.html">BlueTooth</a></li><li class="navelem"><a class="el" href="dir_032c7ce75df489fbc81f9f5cafa90617.html">ADK_CSR867x.WIN4.3.1.5</a></li><li class="navelem"><a class="el" href="dir_1bf656d35252395d27302f6b51ddd826.html">tools</a></li><li class="navelem"><a class="el" href="dir_9efb167bd97b9d385990cb22ce1a9f30.html">include</a></li><li class="navelem"><a class="el" href="dir_9b9e274d222b0ae0600ea71b70413f55.html">firmware</a></li><li class="navelem"><a class="el" href="dir_458ba3a7861648a04e506a5a2c174eb5.html">app</a></li><li class="navelem"><a class="el" href="dir_2e96142f5fdc4ce1375e082f49f5f08d.html">ringtone</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">ringtone_if.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The global definitions for the ringtone subsystem.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Ringtone commands</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These are the commands that can be put in a <a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>. </p>
</div></td></tr>
<tr class="memitem:ad2a7a2068ee80eb49415a5a517b10ad4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#ad2a7a2068ee80eb49415a5a517b10ad4">RINGTONE_END</a>&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) RINGTONE_SEQ_END)</td></tr>
<tr class="separator:ad2a7a2068ee80eb49415a5a517b10ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c24bf1dc8ab60542591ce172bbaa90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#a53c24bf1dc8ab60542591ce172bbaa90">RINGTONE_TEMPO</a>(t)&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_TEMPO | (t)))</td></tr>
<tr class="separator:a53c24bf1dc8ab60542591ce172bbaa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4260fb912fa1ff1e10a1320865208f9c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#a4260fb912fa1ff1e10a1320865208f9c">RINGTONE_VOLUME</a>(v)&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_VOLUME | (v)))</td></tr>
<tr class="separator:a4260fb912fa1ff1e10a1320865208f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87f619f337c789f3566002b54900668"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(t)&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_TIMBRE | (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>) ringtone_tone_##t))</td></tr>
<tr class="separator:ad87f619f337c789f3566002b54900668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc4a8003135ae1a9821e3d2fc6bd444"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#a4cc4a8003135ae1a9821e3d2fc6bd444">RINGTONE_DECAY</a>(d)&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_DECAY | (d)))</td></tr>
<tr class="separator:a4cc4a8003135ae1a9821e3d2fc6bd444"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7ad13c384af8d94417d6e76f07431766"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
this_struct_doesnt_exist *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a></td></tr>
<tr class="separator:a7ad13c384af8d94417d6e76f07431766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca0ea38423c86ad20317ddde92f7023"><td class="memItemLeft" align="right" valign="top">typedef enum <br class="typebreak"/>
<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031">ringtone_tone_type_enum</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#a4ca0ea38423c86ad20317ddde92f7023">ringtone_tone_type</a></td></tr>
<tr class="separator:a4ca0ea38423c86ad20317ddde92f7023"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a023abf2755b7d4bb18919ccfb6ca0031"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031">ringtone_tone_type_enum</a> { <br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031a0acfdac18aef896c0b3878529e4b8c74">ringtone_tone_sine</a>, 
<br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031adc6e399e6db90bcdce547f934cfad29b">ringtone_tone_square</a>, 
<br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031a04f5376ae8386609c79d366f9a753267">ringtone_tone_saw</a>, 
<br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031ae6fb9b9820260df844de584fa1c43634">ringtone_tone_triangle</a>, 
<br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031aac6c2e78950646cd6c8fa7582027ce6d">ringtone_tone_triangle2</a>, 
<br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031a0cc5134d86aa79fd56c08f82a620aef4">ringtone_tone_clipped_sine</a>, 
<br/>
&#160;&#160;<a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031a954a1d9f693621c707b14036cc9e228e">ringtone_tone_plucked</a>
<br/>
 }</td></tr>
<tr class="separator:a023abf2755b7d4bb18919ccfb6ca0031"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The global definitions for the ringtone subsystem. </p>
<h1><a class="anchor" id="audio"></a>
Audio</h1>
<p>BlueCore chips are provided with an advanced audio subsystem, and this can be accessed by user code running on the VM. The audio system allows for the playing of tones of any pitch, or for the playing of samples. In this way maximum flexibility is maintained.</p>
<p>The audio subsystem is accessed by creating a stream from either an array of ringtone_notes, or a sample in the file system, and then connecting this stream to an Audio sink stream.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><a class="code" href="stream_8h.html#a4cd351636d2d317e6bd2f4c5f76968d4" title="Make an automatic connection between a source and sink. ">StreamConnect</a>(<a class="code" href="stream_8h.html#af755ec77cabf5da724992d9389cd4764" title="Returns a source for a synthesised sequence of notes. ">StreamRingtoneSource</a>(ringtone), <a class="code" href="stream_8h.html#ac95d0b88cbd3a23f10f1dddcda6e7b98" title="Request to create an audio sink. ">StreamAudioSink</a>(<a class="code" href="audio__if_8h.html#a94b4bfc11761e57ad93f7126b11e0b09" title="audio_hardware used in StreamAudioSource()/StreamAudioSink() traps. ">audio_hardware</a>, <a class="code" href="audio__if_8h.html#acc44f4b17940313eab915bb9142ea187" title="audio_instance used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_instance</a>, <a class="code" href="audio__if_8h.html#a2b5a19d3dea9946ab7cbad0c770a9ad4" title="audio_channel used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_channel</a>));</div>
<div class="line"></div>
<div class="line"><a class="code" href="stream_8h.html#a4cd351636d2d317e6bd2f4c5f76968d4" title="Make an automatic connection between a source and sink. ">StreamConnect</a>(<a class="code" href="stream_8h.html#ae5ffcf73cab931ea251261e6ac93a239" title="Return a source with the contents of the specified file. ">StreamFileSource</a>(<a class="code" href="file_8h.html#a2c6ee5fa143e456782d2fb8f4930527d" title="Find the index for a named file or directory, relative to the starting directory. ...">FileFind</a>(<a class="code" href="file__if_8h.html#a19a462924b87f814c369ec8e14e35b5b">FILE_ROOT</a>, <span class="stringliteral">&quot;sample&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;sample&quot;</span>)-1)), <a class="code" href="stream_8h.html#ac95d0b88cbd3a23f10f1dddcda6e7b98" title="Request to create an audio sink. ">StreamAudioSink</a>(<a class="code" href="audio__if_8h.html#a94b4bfc11761e57ad93f7126b11e0b09" title="audio_hardware used in StreamAudioSource()/StreamAudioSink() traps. ">audio_hardware</a>, <a class="code" href="audio__if_8h.html#acc44f4b17940313eab915bb9142ea187" title="audio_instance used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_instance</a>, <a class="code" href="audio__if_8h.html#a2b5a19d3dea9946ab7cbad0c770a9ad4" title="audio_channel used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_channel</a>));</div>
</div><!-- fragment --><h2><a class="anchor" id="playing_ringtones"></a>
Playing Ringtones</h2>
<p>When playing ringtones from an array of <a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a> elements, each element array can specify either a note value or a command. Macros are defined to build these arrays.</p>
<p>Notes are specified with either the <a class="el" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE(note, duration)</a> or <a class="el" href="ringtone__notes_8h.html#ac9e633434b3a2ae06df9ea93382b4ecf">RINGTONE_NOTE_TIE(note, duration)</a> macros. The parameters to these two macros are the same, and their operation is very similar. The <em>note</em> parameter specifies the pitch of the note that will be played; the macro contains token-pasting, so we only need to specify the last few characters of the note value (i.e., C3). The <em>duration</em> parameter gives the duration of the note in musical terms.</p>
<div class="fragment"><div class="line"><a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, CROTCHET)     Play a middle C</div>
<div class="line"></div>
<div class="line"><a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(D7, SEMIBREVE)    Play a D two octaves up, for longer</div>
<div class="line"></div>
<div class="line"><a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(REST, SEMIQUAVER) Play nothing for a <span class="keywordtype">short</span> time</div>
</div><!-- fragment --><p>The available non-note commands are listed in the <a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a> documentation. The most important of these is <a class="el" href="ringtone__if_8h.html#ad2a7a2068ee80eb49415a5a517b10ad4">RINGTONE_END</a>, which must appear at the end of every sequence.</p>
<p>So to play a simple ringtone we first declare the <a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a> array as following (It is highly recommended to insert a rest note before RINGTONE_END to avoid pop noise at end of ring tone):</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a> ringtone[] =</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(sine),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(square),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(saw),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(triangle),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(triangle2),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(clipped_sine),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>(plucked),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(C5, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE</a>(REST, MINIM),</div>
<div class="line">    <a class="code" href="ringtone__if_8h.html#ad2a7a2068ee80eb49415a5a517b10ad4">RINGTONE_END</a></div>
<div class="line">};</div>
</div><!-- fragment --><p>and then connect it to a suitable Audio sink.</p>
<div class="fragment"><div class="line"><a class="code" href="stream_8h.html#a4cd351636d2d317e6bd2f4c5f76968d4" title="Make an automatic connection between a source and sink. ">StreamConnect</a>(<a class="code" href="stream_8h.html#af755ec77cabf5da724992d9389cd4764" title="Returns a source for a synthesised sequence of notes. ">StreamRingtoneSource</a>(ringtone), <a class="code" href="stream_8h.html#ac95d0b88cbd3a23f10f1dddcda6e7b98" title="Request to create an audio sink. ">StreamAudioSink</a>(<a class="code" href="audio__if_8h.html#a94b4bfc11761e57ad93f7126b11e0b09" title="audio_hardware used in StreamAudioSource()/StreamAudioSink() traps. ">audio_hardware</a>, <a class="code" href="audio__if_8h.html#acc44f4b17940313eab915bb9142ea187" title="audio_instance used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_instance</a>, <a class="code" href="audio__if_8h.html#a2b5a19d3dea9946ab7cbad0c770a9ad4" title="audio_channel used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_channel</a>));</div>
</div><!-- fragment --><p>There may be a short gap in the sequence between moving from one note or sample from the next. The precise lengths of these gaps may vary from one build to the next and between multiple renditions of the same sequence.</p>
<h2><a class="anchor" id="playing_samples"></a>
Playing samples</h2>
<p>Applications can play samples by using the flash file system as follows.</p>
<ul>
<li>Ensure the sample is in the correct format for the codec being used (e.g. 8/13/16bit).</li>
<li>Place the sample in the flash file system by adding it to the 'image' directory of the project.</li>
<li>Use <a class="el" href="file_8h.html#a2c6ee5fa143e456782d2fb8f4930527d" title="Find the index for a named file or directory, relative to the starting directory. ...">FileFind()</a> to get the index of the file. <div class="fragment"><div class="line"><a class="code" href="file__if_8h.html#aa4822ffc2b2f2d236b9ad35854ca05d4">FILE_INDEX</a> index = <a class="code" href="file_8h.html#a2c6ee5fa143e456782d2fb8f4930527d" title="Find the index for a named file or directory, relative to the starting directory. ...">FileFind</a>(<a class="code" href="file__if_8h.html#a19a462924b87f814c369ec8e14e35b5b">FILE_ROOT</a>, <span class="stringliteral">&quot;sample&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;sample&quot;</span>)-1))</div>
</div><!-- fragment --></li>
<li>Use <a class="el" href="stream_8h.html#ae5ffcf73cab931ea251261e6ac93a239" title="Return a source with the contents of the specified file. ">StreamFileSource()</a> to get a Source from the file index. <div class="fragment"><div class="line"><a class="code" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a> file_src = <a class="code" href="stream_8h.html#ae5ffcf73cab931ea251261e6ac93a239" title="Return a source with the contents of the specified file. ">StreamFileSource</a>(index);</div>
</div><!-- fragment --></li>
<li>Use <a class="el" href="stream_8h.html#a4cd351636d2d317e6bd2f4c5f76968d4" title="Make an automatic connection between a source and sink. ">StreamConnect()</a> to connect the source to the desired Audio sink. <div class="fragment"><div class="line"><a class="code" href="stream_8h.html#a4cd351636d2d317e6bd2f4c5f76968d4" title="Make an automatic connection between a source and sink. ">StreamConnect</a>(file_src, <a class="code" href="stream_8h.html#ac95d0b88cbd3a23f10f1dddcda6e7b98" title="Request to create an audio sink. ">StreamAudioSink</a>(<a class="code" href="audio__if_8h.html#a94b4bfc11761e57ad93f7126b11e0b09" title="audio_hardware used in StreamAudioSource()/StreamAudioSink() traps. ">audio_hardware</a>, <a class="code" href="audio__if_8h.html#acc44f4b17940313eab915bb9142ea187" title="audio_instance used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_instance</a>, <a class="code" href="audio__if_8h.html#a2b5a19d3dea9946ab7cbad0c770a9ad4" title="audio_channel used in StreamAudioSource(), StreamAudioSink() and CodecSetIirFilter() traps...">audio_channel</a>));</div>
</div><!-- fragment --> </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad2a7a2068ee80eb49415a5a517b10ad4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RINGTONE_END&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) RINGTONE_SEQ_END)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This command must be given at the end of a sequence. It causes the sequence to be stopped. All sequences must end this way. It is highly recommended to insert a rest note before RINGTONE_END to avoid pop noise at end of ring tone. </p>

</div>
</div>
<a class="anchor" id="a53c24bf1dc8ab60542591ce172bbaa90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RINGTONE_TEMPO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_TEMPO | (t)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This command is used to change the tempo of the sequence. A twelve-bit value is given as the new tempo in crotchets (quarter notes) per minute. The default is 120. </p>

</div>
</div>
<a class="anchor" id="a4260fb912fa1ff1e10a1320865208f9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RINGTONE_VOLUME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_VOLUME | (v)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This command sets a new volume. All notes played after this command are played with the specified volume, that is, currently playing notes are not affected. The default is maximum volume. </p>

</div>
</div>
<a class="anchor" id="ad87f619f337c789f3566002b54900668"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RINGTONE_TIMBRE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_TIMBRE | (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>) ringtone_tone_##t))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This command sets the timbre, or waveform, of the notes. The available timbres are defined by <a class="el" href="ringtone__if_8h.html#a4ca0ea38423c86ad20317ddde92f7023">ringtone_tone_type</a>. The default timbre is <a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031a0acfdac18aef896c0b3878529e4b8c74">ringtone_tone_sine</a>. </p>

</div>
</div>
<a class="anchor" id="a4cc4a8003135ae1a9821e3d2fc6bd444"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RINGTONE_DECAY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">d)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a>) (RINGTONE_SEQ_DECAY | (d)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This sets the volume decay rate. As each tone is played, its volume decreases with a variable rate. Low values for this parameter cause notes to decay very quickly, whereas high values cause the notes to continue with an almost constant volume.</p>
<p>The parameter to this command is a fixed point number with four bits to the right of the binary point giving the time taken for the note to decay to zero volume relative to the length of the note played. A value of 0x10 (meaning 1.0) will cause each note to reach zero volume just as the next note starts. A value of 0x08 (meaning 0.5) will cause each note to reach zero halfway through its duration giving a staccato feel. A value of 0x20 (meaning 2.0) will cause each note to reach half its initial volume when the next note starts.</p>
<p>When using tied notes, note that the decay length is set from the duration of the first note. This means that a decay value of 0x10 (1.0) will cause tied notes to be silent as the volume will have decayed to zero during the first note.</p>
<p>The default for the decay is 0x20 (2.0) which allows two notes of the same length to be tied together. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a7ad13c384af8d94417d6e76f07431766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct this_struct_doesnt_exist* <a class="el" href="ringtone__if_8h.html#a7ad13c384af8d94417d6e76f07431766">ringtone_note</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <em>ringtone_note</em> type is defined so that it is possible to store either sixteen bit numbers or pointers.</p>
<p>Notes are specified with either the <a class="el" href="ringtone__notes_8h.html#ab7063cbebb023546d352f45a662e4a44">RINGTONE_NOTE(note, duration)</a> or <a class="el" href="ringtone__notes_8h.html#ac9e633434b3a2ae06df9ea93382b4ecf">RINGTONE_NOTE_TIE(note, duration)</a> macros.</p>
<p>There are also several non-note commands that can be specified. These are <a class="el" href="ringtone__if_8h.html#ad2a7a2068ee80eb49415a5a517b10ad4">RINGTONE_END</a>, <a class="el" href="ringtone__if_8h.html#a53c24bf1dc8ab60542591ce172bbaa90">RINGTONE_TEMPO</a>, <a class="el" href="ringtone__if_8h.html#a4260fb912fa1ff1e10a1320865208f9c">RINGTONE_VOLUME</a>, <a class="el" href="ringtone__if_8h.html#ad87f619f337c789f3566002b54900668">RINGTONE_TIMBRE</a>, and <a class="el" href="ringtone__if_8h.html#a4cc4a8003135ae1a9821e3d2fc6bd444">RINGTONE_DECAY</a>. </p>

</div>
</div>
<a class="anchor" id="a4ca0ea38423c86ad20317ddde92f7023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031">ringtone_tone_type_enum</a>  <a class="el" href="ringtone__if_8h.html#a4ca0ea38423c86ad20317ddde92f7023">ringtone_tone_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The waveform to use for tone generation. Set using the #RINGTONE_TIMBRE 
</pre><p> macro. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ringtone__if_8h.html#a023abf2755b7d4bb18919ccfb6ca0031">ringtone_tone_type_enum</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The waveform to use for tone generation. Set using the #RINGTONE_TIMBRE 
</pre><p> macro. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031a0acfdac18aef896c0b3878529e4b8c74"></a>ringtone_tone_sine</em>&nbsp;</td><td class="fielddoc">
<p>Sine Wave </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031adc6e399e6db90bcdce547f934cfad29b"></a>ringtone_tone_square</em>&nbsp;</td><td class="fielddoc">
<p>Square Wave </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031a04f5376ae8386609c79d366f9a753267"></a>ringtone_tone_saw</em>&nbsp;</td><td class="fielddoc">
<p>Saw-Tooth Wave </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031ae6fb9b9820260df844de584fa1c43634"></a>ringtone_tone_triangle</em>&nbsp;</td><td class="fielddoc">
<p>Triangle Wave </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031aac6c2e78950646cd6c8fa7582027ce6d"></a>ringtone_tone_triangle2</em>&nbsp;</td><td class="fielddoc">
<p>Triangle Wave (assymetric) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031a0cc5134d86aa79fd56c08f82a620aef4"></a>ringtone_tone_clipped_sine</em>&nbsp;</td><td class="fielddoc">
<p>Clipped Sine Wave </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a023abf2755b7d4bb18919ccfb6ca0031a954a1d9f693621c707b14036cc9e228e"></a>ringtone_tone_plucked</em>&nbsp;</td><td class="fielddoc">
<p>Simulates a plucked instrument </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 8 2018 17:58:24 for BlueLab by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
